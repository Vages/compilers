--- correctOutput/matrix_multiply.s4	2015-02-09 13:34:58.063170000 +0100
+++ testOutput/matrix_multiply.s4	2015-02-13 13:27:30.689495000 +0100
@@ -2,265 +2,265 @@
   Simplify FUNCTION 
    Simplify TYPE 
    Simplify STATEMENT_LIST 
-    Simplify STATEMENT_LIST 
      Simplify STATEMENT_LIST 
-      Simplify STATEMENT_LIST 
        Simplify STATEMENT_LIST 
-        Simplify STATEMENT_LIST 
          Simplify STATEMENT_LIST 
-          Simplify STATEMENT_LIST 
            Simplify STATEMENT_LIST 
-            Simplify STATEMENT_LIST 
              Simplify STATEMENT_LIST 
-              Simplify STATEMENT_LIST 
                Simplify STATEMENT_LIST 
-                Simplify STATEMENT_LIST 
+                 Simplify STATEMENT_LIST 
+                   Simplify STATEMENT_LIST 
+                     Simplify STATEMENT_LIST 
+                       Simplify STATEMENT_LIST 
+                         Simplify STATEMENT_LIST 
+                           Simplify STATEMENT_LIST 
+                             Simplify STATEMENT_LIST 
+                               Simplify STATEMENT 
+                                 Simplify DECLARATION_STATEMENT 
+                                   Simplify TYPE 
+                                     Simplify TYPE 
+                                     Simplify INDEX_LIST 
+                                       Simplify INDEX_LIST 
+                             Simplify STATEMENT 
+                                Simplify EXPRESSION (VARIABLE) 
+                                Simplify EXPRESSION (NEW) 
+                                  Simplify TYPE 
+                                    Simplify TYPE 
+                                    Simplify INDEX_LIST 
+                                      Simplify INDEX_LIST 
+                           Simplify STATEMENT 
+                             Simplify DECLARATION_STATEMENT 
+                               Simplify TYPE 
+                                 Simplify TYPE 
+                                 Simplify INDEX_LIST 
+                                   Simplify INDEX_LIST 
+                         Simplify STATEMENT 
+                            Simplify EXPRESSION (VARIABLE) 
+                            Simplify EXPRESSION (NEW) 
+                              Simplify TYPE 
+                                Simplify TYPE 
+                                Simplify INDEX_LIST 
+                                  Simplify INDEX_LIST 
+                       Simplify STATEMENT 
+                         Simplify DECLARATION_STATEMENT 
+                           Simplify TYPE 
+                     Simplify STATEMENT 
+                       Simplify DECLARATION_STATEMENT 
+                         Simplify TYPE 
+                   Simplify STATEMENT 
+                       Simplify EXPRESSION (VARIABLE) 
+                       Simplify EXPRESSION (CONSTANT) 
+                      Simplify EXPRESSION (CONSTANT) 
+                      Simplify STATEMENT_LIST 
+                        Simplify STATEMENT 
+                            Simplify EXPRESSION (VARIABLE) 
+                            Simplify EXPRESSION (CONSTANT) 
+                           Simplify EXPRESSION (CONSTANT) 
+                           Simplify STATEMENT_LIST 
+                             Simplify STATEMENT_LIST 
+                               Simplify STATEMENT 
+                                  Simplify EXPRESSION (ARRAY_INDEX) 
+                                    Simplify EXPRESSION () 
+                                      Simplify EXPRESSION (ARRAY_INDEX) 
+                                        Simplify EXPRESSION () 
+                                          Simplify EXPRESSION (VARIABLE) 
+                                        Simplify EXPRESSION () 
+                                          Simplify EXPRESSION (VARIABLE) 
+                                    Simplify EXPRESSION () 
+                                      Simplify EXPRESSION (VARIABLE) 
+                                  Simplify EXPRESSION (+) 
+                                    Simplify EXPRESSION (*) 
+                                      Simplify EXPRESSION () 
+                                        Simplify EXPRESSION (VARIABLE) 
+                                      Simplify EXPRESSION (CONSTANT) 
+                                    Simplify EXPRESSION () 
+                                      Simplify EXPRESSION (VARIABLE) 
+                             Simplify STATEMENT 
+                                Simplify EXPRESSION (ARRAY_INDEX) 
+                                  Simplify EXPRESSION () 
+                                    Simplify EXPRESSION (ARRAY_INDEX) 
+                                      Simplify EXPRESSION () 
+                                        Simplify EXPRESSION (VARIABLE) 
+                                      Simplify EXPRESSION () 
+                                        Simplify EXPRESSION (VARIABLE) 
+                                  Simplify EXPRESSION () 
+                                    Simplify EXPRESSION (VARIABLE) 
+                                Simplify EXPRESSION (-) 
+                                  Simplify EXPRESSION (CONSTANT) 
+                                  Simplify EXPRESSION () 
+                                    Simplify EXPRESSION (+) 
+                                      Simplify EXPRESSION (*) 
+                                        Simplify EXPRESSION () 
+                                          Simplify EXPRESSION (VARIABLE) 
+                                        Simplify EXPRESSION (CONSTANT) 
+                                      Simplify EXPRESSION () 
+                                        Simplify EXPRESSION (VARIABLE) 
                  Simplify STATEMENT 
-                  Simplify DECLARATION_STATEMENT 
-                   Simplify TYPE 
-                    Simplify TYPE 
-                    Simplify INDEX_LIST 
-                     Simplify INDEX_LIST 
-                Simplify STATEMENT 
+                   Simplify DECLARATION_STATEMENT 
+                     Simplify TYPE 
+                       Simplify TYPE 
+                       Simplify INDEX_LIST 
+                         Simplify INDEX_LIST 
+               Simplify STATEMENT 
                   Simplify EXPRESSION (VARIABLE) 
                   Simplify EXPRESSION (NEW) 
-                   Simplify TYPE 
                     Simplify TYPE 
-                    Simplify INDEX_LIST 
-                     Simplify INDEX_LIST 
-               Simplify STATEMENT 
-                Simplify DECLARATION_STATEMENT 
-                 Simplify TYPE 
-                  Simplify TYPE 
-                  Simplify INDEX_LIST 
-                   Simplify INDEX_LIST 
-              Simplify STATEMENT 
-                Simplify EXPRESSION (VARIABLE) 
-                Simplify EXPRESSION (NEW) 
-                 Simplify TYPE 
-                  Simplify TYPE 
-                  Simplify INDEX_LIST 
-                   Simplify INDEX_LIST 
+                      Simplify TYPE 
+                      Simplify INDEX_LIST 
+                        Simplify INDEX_LIST 
              Simplify STATEMENT 
-              Simplify DECLARATION_STATEMENT 
-               Simplify TYPE 
-            Simplify STATEMENT 
-             Simplify DECLARATION_STATEMENT 
-              Simplify TYPE 
+               Simplify DECLARATION_STATEMENT 
+                 Simplify TYPE 
            Simplify STATEMENT 
-              Simplify EXPRESSION (VARIABLE) 
+               Simplify EXPRESSION (VARIABLE) 
+               Simplify EXPRESSION (CONSTANT) 
               Simplify EXPRESSION (CONSTANT) 
-             Simplify EXPRESSION (CONSTANT) 
-             Simplify STATEMENT_LIST 
-              Simplify STATEMENT 
-                 Simplify EXPRESSION (VARIABLE) 
-                 Simplify EXPRESSION (CONSTANT) 
-                Simplify EXPRESSION (CONSTANT) 
-                Simplify STATEMENT_LIST 
-                 Simplify STATEMENT_LIST 
-                  Simplify STATEMENT 
+              Simplify STATEMENT_LIST 
+                Simplify STATEMENT 
+                    Simplify EXPRESSION (VARIABLE) 
+                    Simplify EXPRESSION (CONSTANT) 
+                   Simplify EXPRESSION (CONSTANT) 
+                   Simplify STATEMENT_LIST 
+                     Simplify STATEMENT_LIST 
+                       Simplify STATEMENT 
+                          Simplify EXPRESSION (ARRAY_INDEX) 
+                            Simplify EXPRESSION () 
+                              Simplify EXPRESSION (ARRAY_INDEX) 
+                                Simplify EXPRESSION () 
+                                  Simplify EXPRESSION (VARIABLE) 
+                                Simplify EXPRESSION () 
+                                  Simplify EXPRESSION (VARIABLE) 
+                            Simplify EXPRESSION () 
+                              Simplify EXPRESSION (VARIABLE) 
+                          Simplify EXPRESSION (CONSTANT) 
+                     Simplify STATEMENT 
+                         Simplify EXPRESSION (VARIABLE) 
+                         Simplify EXPRESSION (CONSTANT) 
+                        Simplify EXPRESSION (CONSTANT) 
+                        Simplify STATEMENT_LIST 
+                          Simplify STATEMENT 
+                             Simplify EXPRESSION (ARRAY_INDEX) 
+                               Simplify EXPRESSION () 
+                                 Simplify EXPRESSION (ARRAY_INDEX) 
+                                   Simplify EXPRESSION () 
+                                     Simplify EXPRESSION (VARIABLE) 
+                                   Simplify EXPRESSION () 
+                                     Simplify EXPRESSION (VARIABLE) 
+                               Simplify EXPRESSION () 
+                                 Simplify EXPRESSION (VARIABLE) 
+                             Simplify EXPRESSION (+) 
+                               Simplify EXPRESSION () 
+                                 Simplify EXPRESSION (ARRAY_INDEX) 
+                                   Simplify EXPRESSION () 
+                                     Simplify EXPRESSION (ARRAY_INDEX) 
+                                       Simplify EXPRESSION () 
+                                         Simplify EXPRESSION (VARIABLE) 
+                                       Simplify EXPRESSION () 
+                                         Simplify EXPRESSION (VARIABLE) 
+                                   Simplify EXPRESSION () 
+                                     Simplify EXPRESSION (VARIABLE) 
+                               Simplify EXPRESSION (*) 
+                                 Simplify EXPRESSION () 
+                                   Simplify EXPRESSION (ARRAY_INDEX) 
+                                     Simplify EXPRESSION () 
+                                       Simplify EXPRESSION (ARRAY_INDEX) 
+                                         Simplify EXPRESSION () 
+                                           Simplify EXPRESSION (VARIABLE) 
+                                         Simplify EXPRESSION () 
+                                           Simplify EXPRESSION (VARIABLE) 
+                                     Simplify EXPRESSION () 
+                                       Simplify EXPRESSION (VARIABLE) 
+                                 Simplify EXPRESSION () 
+                                   Simplify EXPRESSION (ARRAY_INDEX) 
+                                     Simplify EXPRESSION () 
+                                       Simplify EXPRESSION (ARRAY_INDEX) 
+                                         Simplify EXPRESSION () 
+                                           Simplify EXPRESSION (VARIABLE) 
+                                         Simplify EXPRESSION () 
+                                           Simplify EXPRESSION (VARIABLE) 
+                                     Simplify EXPRESSION () 
+                                       Simplify EXPRESSION (VARIABLE) 
+         Simplify STATEMENT 
+            Simplify EXPRESSION_LIST 
+              Simplify EXPRESSION_LIST 
+                Simplify EXPRESSION_LIST 
+                  Simplify EXPRESSION () 
                     Simplify EXPRESSION (ARRAY_INDEX) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (ARRAY_INDEX) 
-                       Simplify EXPRESSION () 
-                        Simplify EXPRESSION (VARIABLE) 
-                       Simplify EXPRESSION () 
-                        Simplify EXPRESSION (VARIABLE) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (VARIABLE) 
-                    Simplify EXPRESSION (+) 
-                     Simplify EXPRESSION (*) 
                       Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
+                        Simplify EXPRESSION (ARRAY_INDEX) 
+                          Simplify EXPRESSION () 
+                            Simplify EXPRESSION (VARIABLE) 
+                          Simplify EXPRESSION (CONSTANT) 
                       Simplify EXPRESSION (CONSTANT) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (VARIABLE) 
-                 Simplify STATEMENT 
-                   Simplify EXPRESSION (ARRAY_INDEX) 
-                    Simplify EXPRESSION () 
-                     Simplify EXPRESSION (ARRAY_INDEX) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
+                Simplify EXPRESSION () 
+                  Simplify EXPRESSION (ARRAY_INDEX) 
                     Simplify EXPRESSION () 
-                     Simplify EXPRESSION (VARIABLE) 
-                   Simplify EXPRESSION (-) 
+                      Simplify EXPRESSION (ARRAY_INDEX) 
+                        Simplify EXPRESSION () 
+                          Simplify EXPRESSION (VARIABLE) 
+                        Simplify EXPRESSION (CONSTANT) 
                     Simplify EXPRESSION (CONSTANT) 
-                    Simplify EXPRESSION () 
-                     Simplify EXPRESSION (+) 
-                      Simplify EXPRESSION (*) 
-                       Simplify EXPRESSION () 
-                        Simplify EXPRESSION (VARIABLE) 
-                       Simplify EXPRESSION (CONSTANT) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
-          Simplify STATEMENT 
-           Simplify DECLARATION_STATEMENT 
-            Simplify TYPE 
-             Simplify TYPE 
-             Simplify INDEX_LIST 
-              Simplify INDEX_LIST 
-         Simplify STATEMENT 
-           Simplify EXPRESSION (VARIABLE) 
-           Simplify EXPRESSION (NEW) 
-            Simplify TYPE 
-             Simplify TYPE 
-             Simplify INDEX_LIST 
-              Simplify INDEX_LIST 
-        Simplify STATEMENT 
-         Simplify DECLARATION_STATEMENT 
-          Simplify TYPE 
-       Simplify STATEMENT 
-          Simplify EXPRESSION (VARIABLE) 
-          Simplify EXPRESSION (CONSTANT) 
-         Simplify EXPRESSION (CONSTANT) 
-         Simplify STATEMENT_LIST 
-          Simplify STATEMENT 
-             Simplify EXPRESSION (VARIABLE) 
-             Simplify EXPRESSION (CONSTANT) 
-            Simplify EXPRESSION (CONSTANT) 
-            Simplify STATEMENT_LIST 
-             Simplify STATEMENT_LIST 
-              Simplify STATEMENT 
+              Simplify EXPRESSION () 
                 Simplify EXPRESSION (ARRAY_INDEX) 
-                 Simplify EXPRESSION () 
-                  Simplify EXPRESSION (ARRAY_INDEX) 
-                   Simplify EXPRESSION () 
-                    Simplify EXPRESSION (VARIABLE) 
-                   Simplify EXPRESSION () 
-                    Simplify EXPRESSION (VARIABLE) 
-                 Simplify EXPRESSION () 
-                  Simplify EXPRESSION (VARIABLE) 
-                Simplify EXPRESSION (CONSTANT) 
-             Simplify STATEMENT 
-                Simplify EXPRESSION (VARIABLE) 
-                Simplify EXPRESSION (CONSTANT) 
-               Simplify EXPRESSION (CONSTANT) 
-               Simplify STATEMENT_LIST 
-                Simplify STATEMENT 
-                  Simplify EXPRESSION (ARRAY_INDEX) 
-                   Simplify EXPRESSION () 
-                    Simplify EXPRESSION (ARRAY_INDEX) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (VARIABLE) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (VARIABLE) 
-                   Simplify EXPRESSION () 
-                    Simplify EXPRESSION (VARIABLE) 
-                  Simplify EXPRESSION (+) 
-                   Simplify EXPRESSION () 
+                  Simplify EXPRESSION () 
                     Simplify EXPRESSION (ARRAY_INDEX) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (ARRAY_INDEX) 
-                       Simplify EXPRESSION () 
-                        Simplify EXPRESSION (VARIABLE) 
-                       Simplify EXPRESSION () 
+                      Simplify EXPRESSION () 
                         Simplify EXPRESSION (VARIABLE) 
-                     Simplify EXPRESSION () 
-                      Simplify EXPRESSION (VARIABLE) 
-                   Simplify EXPRESSION (*) 
+                      Simplify EXPRESSION (CONSTANT) 
+                  Simplify EXPRESSION (CONSTANT) 
+       Simplify STATEMENT 
+          Simplify EXPRESSION_LIST 
+            Simplify EXPRESSION_LIST 
+              Simplify EXPRESSION_LIST 
+                Simplify EXPRESSION () 
+                  Simplify EXPRESSION (ARRAY_INDEX) 
                     Simplify EXPRESSION () 
-                     Simplify EXPRESSION (ARRAY_INDEX) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (ARRAY_INDEX) 
-                        Simplify EXPRESSION () 
-                         Simplify EXPRESSION (VARIABLE) 
+                      Simplify EXPRESSION (ARRAY_INDEX) 
                         Simplify EXPRESSION () 
-                         Simplify EXPRESSION (VARIABLE) 
+                          Simplify EXPRESSION (VARIABLE) 
+                        Simplify EXPRESSION (CONSTANT) 
+                    Simplify EXPRESSION (CONSTANT) 
+              Simplify EXPRESSION () 
+                Simplify EXPRESSION (ARRAY_INDEX) 
+                  Simplify EXPRESSION () 
+                    Simplify EXPRESSION (ARRAY_INDEX) 
                       Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
+                        Simplify EXPRESSION (VARIABLE) 
+                      Simplify EXPRESSION (CONSTANT) 
+                  Simplify EXPRESSION (CONSTANT) 
+            Simplify EXPRESSION () 
+              Simplify EXPRESSION (ARRAY_INDEX) 
+                Simplify EXPRESSION () 
+                  Simplify EXPRESSION (ARRAY_INDEX) 
                     Simplify EXPRESSION () 
-                     Simplify EXPRESSION (ARRAY_INDEX) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (ARRAY_INDEX) 
-                        Simplify EXPRESSION () 
-                         Simplify EXPRESSION (VARIABLE) 
-                        Simplify EXPRESSION () 
-                         Simplify EXPRESSION (VARIABLE) 
-                      Simplify EXPRESSION () 
-                       Simplify EXPRESSION (VARIABLE) 
-      Simplify STATEMENT 
+                      Simplify EXPRESSION (VARIABLE) 
+                    Simplify EXPRESSION (CONSTANT) 
+                Simplify EXPRESSION (CONSTANT) 
+     Simplify STATEMENT 
         Simplify EXPRESSION_LIST 
-         Simplify EXPRESSION_LIST 
           Simplify EXPRESSION_LIST 
-           Simplify EXPRESSION () 
-            Simplify EXPRESSION (ARRAY_INDEX) 
-             Simplify EXPRESSION () 
+            Simplify EXPRESSION_LIST 
+              Simplify EXPRESSION () 
+                Simplify EXPRESSION (ARRAY_INDEX) 
+                  Simplify EXPRESSION () 
+                    Simplify EXPRESSION (ARRAY_INDEX) 
+                      Simplify EXPRESSION () 
+                        Simplify EXPRESSION (VARIABLE) 
+                      Simplify EXPRESSION (CONSTANT) 
+                  Simplify EXPRESSION (CONSTANT) 
+            Simplify EXPRESSION () 
               Simplify EXPRESSION (ARRAY_INDEX) 
-               Simplify EXPRESSION () 
-                Simplify EXPRESSION (VARIABLE) 
-               Simplify EXPRESSION (CONSTANT) 
-             Simplify EXPRESSION (CONSTANT) 
+                Simplify EXPRESSION () 
+                  Simplify EXPRESSION (ARRAY_INDEX) 
+                    Simplify EXPRESSION () 
+                      Simplify EXPRESSION (VARIABLE) 
+                    Simplify EXPRESSION (CONSTANT) 
+                Simplify EXPRESSION (CONSTANT) 
           Simplify EXPRESSION () 
-           Simplify EXPRESSION (ARRAY_INDEX) 
-            Simplify EXPRESSION () 
-             Simplify EXPRESSION (ARRAY_INDEX) 
-              Simplify EXPRESSION () 
-               Simplify EXPRESSION (VARIABLE) 
-              Simplify EXPRESSION (CONSTANT) 
-            Simplify EXPRESSION (CONSTANT) 
-         Simplify EXPRESSION () 
-          Simplify EXPRESSION (ARRAY_INDEX) 
-           Simplify EXPRESSION () 
             Simplify EXPRESSION (ARRAY_INDEX) 
-             Simplify EXPRESSION () 
-              Simplify EXPRESSION (VARIABLE) 
-             Simplify EXPRESSION (CONSTANT) 
-           Simplify EXPRESSION (CONSTANT) 
-     Simplify STATEMENT 
-       Simplify EXPRESSION_LIST 
-        Simplify EXPRESSION_LIST 
-         Simplify EXPRESSION_LIST 
-          Simplify EXPRESSION () 
-           Simplify EXPRESSION (ARRAY_INDEX) 
-            Simplify EXPRESSION () 
-             Simplify EXPRESSION (ARRAY_INDEX) 
               Simplify EXPRESSION () 
-               Simplify EXPRESSION (VARIABLE) 
+                Simplify EXPRESSION (ARRAY_INDEX) 
+                  Simplify EXPRESSION () 
+                    Simplify EXPRESSION (VARIABLE) 
+                  Simplify EXPRESSION (CONSTANT) 
               Simplify EXPRESSION (CONSTANT) 
-            Simplify EXPRESSION (CONSTANT) 
-         Simplify EXPRESSION () 
-          Simplify EXPRESSION (ARRAY_INDEX) 
-           Simplify EXPRESSION () 
-            Simplify EXPRESSION (ARRAY_INDEX) 
-             Simplify EXPRESSION () 
-              Simplify EXPRESSION (VARIABLE) 
-             Simplify EXPRESSION (CONSTANT) 
-           Simplify EXPRESSION (CONSTANT) 
-        Simplify EXPRESSION () 
-         Simplify EXPRESSION (ARRAY_INDEX) 
-          Simplify EXPRESSION () 
-           Simplify EXPRESSION (ARRAY_INDEX) 
-            Simplify EXPRESSION () 
-             Simplify EXPRESSION (VARIABLE) 
-            Simplify EXPRESSION (CONSTANT) 
-          Simplify EXPRESSION (CONSTANT) 
-    Simplify STATEMENT 
-      Simplify EXPRESSION_LIST 
-       Simplify EXPRESSION_LIST 
-        Simplify EXPRESSION_LIST 
-         Simplify EXPRESSION () 
-          Simplify EXPRESSION (ARRAY_INDEX) 
-           Simplify EXPRESSION () 
-            Simplify EXPRESSION (ARRAY_INDEX) 
-             Simplify EXPRESSION () 
-              Simplify EXPRESSION (VARIABLE) 
-             Simplify EXPRESSION (CONSTANT) 
-           Simplify EXPRESSION (CONSTANT) 
-        Simplify EXPRESSION () 
-         Simplify EXPRESSION (ARRAY_INDEX) 
-          Simplify EXPRESSION () 
-           Simplify EXPRESSION (ARRAY_INDEX) 
-            Simplify EXPRESSION () 
-             Simplify EXPRESSION (VARIABLE) 
-            Simplify EXPRESSION (CONSTANT) 
-          Simplify EXPRESSION (CONSTANT) 
-       Simplify EXPRESSION () 
-        Simplify EXPRESSION (ARRAY_INDEX) 
-         Simplify EXPRESSION () 
-          Simplify EXPRESSION (ARRAY_INDEX) 
-           Simplify EXPRESSION () 
-            Simplify EXPRESSION (VARIABLE) 
-           Simplify EXPRESSION (CONSTANT) 
-         Simplify EXPRESSION (CONSTANT) 
